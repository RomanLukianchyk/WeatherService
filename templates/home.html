{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}
<h2>Welcome to the Weather Notification App!</h2>

<p>Добро пожаловать в наше приложение для уведомлений о погоде! Это руководство поможет новым пользователям и сторонним сервисам начать работу с нашим API.</p>

<h3>Как использовать API</h3>

<ol>
    <li><strong>Регистрация пользователя:</strong> Зарегистрируйтесь на нашем сайте, чтобы получить доступ к API. После регистрации и входа вы сможете генерировать JWT-токен для аутентификации.</li>

    <li><strong>Получение JWT-токена:</strong> 
        <ul>
            <li>Перейдите на страницу <strong>Generate JWT Token</strong> (в меню пользователя) и нажмите кнопку <strong>Get JWT Token</strong>.</li>
            <li>Скопируйте сгенерированный токен — он будет использоваться для аутентификации при работе с API.</li>
        </ul>
    </li>

    <li><strong>Использование токена для аутентификации:</strong> 
        <ul>
            <li>В каждом запросе к API добавляйте заголовок <code>Authorization</code> с вашим токеном в формате <code>Bearer &lt;ваш_токен&gt;</code>.</li>
            <li>Пример заголовка: <code>Authorization: Bearer eyJhbGciOiJIUzI1NiIs...</code></li>
        </ul>
    </li>

    <li><strong>Доступные конечные точки API:</strong>
        <ul>
            <li><strong>Список городов:</strong> <code>GET /api/cities/</code> - Получить список доступных городов.</li>
            <li><strong>Список подписок:</strong> <code>GET /api/subscriptions/</code> - Получить список подписок текущего пользователя.</li>
            <li><strong>Создание подписки:</strong> <code>POST /api/subscriptions/</code> - Создать новую подписку. Передайте параметры <code>city</code> (ID города) и <code>notification_period</code> (в минутах).</li>
            <li><strong>Обновление подписки:</strong> <code>PUT /api/subscriptions/&lt;id&gt;/</code> - Обновить подписку (замените <code>&lt;id&gt;</code> на идентификатор подписки).</li>
            <li><strong>Удаление подписки:</strong> <code>DELETE /api/subscriptions/&lt;id&gt;/</code> - Удалить подписку.</li>
        </ul>
    </li>

    <li><strong>Пример использования API с токеном:</strong>
        <p>Пример запроса для получения списка подписок (используйте <a href="https://www.postman.com/" target="_blank">Postman</a> или другой клиент для API):</p>
        <pre><code>
GET /api/subscriptions/
Authorization: Bearer &lt;ваш_токен&gt;
        </code></pre>
    </li>
</ol>

<p>Следуйте этим шагам, чтобы начать использовать наше приложение и получать уведомления о погоде для избранных городов!</p>

{% endblock %}
